# 探索基于LLM的漏洞修复中的有用上下文：初步研究

发布时间：2025年06月13日

`LLM应用` `软件工程` `自动化漏洞修复`

> Identifying Helpful Context for LLM-based Vulnerability Repair: A Preliminary Study

# 摘要

> 大型语言模型 (LLMs) 的最新进展为软件系统的自动漏洞检测与修复带来了希望。本文研究了GPT-4o在修复来自Vul4J数据集的Java漏洞方面的表现，探讨了不同上下文信息对自动化漏洞修复 (AVR) 的影响。我们比较了GPT-4o与GPT-4在相同提示下的表现，并评估了九种额外提示，这些提示包含CWE、CVE信息及手动提取的代码上下文。每个提示在42个漏洞上执行三次，修复结果通过Vul4J框架验证。
    结果显示，GPT-4o的表现比GPT-4平均低11.9%，但在三次运行中修复了10.5%更多的漏洞。CVE信息显著提升了修复率，而任务描述长度影响较小。结合CVE指导与代码上下文效果最佳。使用	extsc{Top}-3提示，GPT-4o修复了26个（62%）漏洞，优于基线（40%）和复现（45%），表明集成提示策略可能提升零样本设置下的修复能力。

> Recent advancements in large language models (LLMs) have shown promise for automated vulnerability detection and repair in software systems. This paper investigates the performance of GPT-4o in repairing Java vulnerabilities from a widely used dataset (Vul4J), exploring how different contextual information affects automated vulnerability repair (AVR) capabilities. We compare the latest GPT-4o's performance against previous results with GPT-4 using identical prompts. We evaluated nine additional prompts crafted by us that contain various contextual information such as CWE or CVE information, and manually extracted code contexts. Each prompt was executed three times on 42 vulnerabilities, and the resulting fix candidates were validated using Vul4J's automated testing framework.
  Our results show that GPT-4o performed 11.9\% worse on average than GPT-4 with the same prompt, but was able to fix 10.5\% more distinct vulnerabilities in the three runs together. CVE information significantly improved repair rates, while the length of the task description had minimal impact. Combining CVE guidance with manually extracted code context resulted in the best performance. Using our \textsc{Top}-3 prompts together, GPT-4o repaired 26 (62\%) vulnerabilities at least once, outperforming both the original baseline (40\%) and its reproduction (45\%), suggesting that ensemble prompt strategies could improve vulnerability repair in zero-shot settings.

[Arxiv](https://arxiv.org/abs/2506.11561)