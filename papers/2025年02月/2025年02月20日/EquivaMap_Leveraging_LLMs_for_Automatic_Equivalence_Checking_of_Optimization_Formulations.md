# EquivaMap：借助大型语言模型实现优化模型的自动等价性验证

发布时间：2025年02月20日

`LLM应用` `组合优化` `编译器优化`

> EquivaMap: Leveraging LLMs for Automatic Equivalence Checking of Optimization Formulations

# 摘要

> 在组合优化领域，识别等价公式是一个基本问题，这不仅有助于开发更高效的解决方案策略，还能深入理解问题的计算复杂性。随着优化编译器的普及，这些系统能够从自然语言描述中生成问题公式，自动识别问题公式之间等价性的需求日益增长。然而，现有的检查公式等价性的方法缺乏坚实基础，依赖于简单的启发式方法，这些方法不足以进行严格的验证。受Karp约简的启发，我们在本研究中引入了拟Karp等价性，这是一种基于两个优化公式之间决策变量映射存在的正式标准，用于判断两个公式是否等价。我们提出了EquivaMap框架，该框架利用大型语言模型自动发现此类映射，从而实现可扩展且可靠的等价性验证。为了评估我们的方法，我们构建了首个开源的等价优化公式数据集，通过向现有公式添加松弛变量或有效不等式等变换生成。实证结果表明，EquivaMap显著优于现有方法，在正确识别公式等价性方面取得了重大改进。

> A fundamental problem in combinatorial optimization is identifying equivalent formulations, which can lead to more efficient solution strategies and deeper insights into a problem's computational complexity. The need to automatically identify equivalence between problem formulations has grown as optimization copilots--systems that generate problem formulations from natural language descriptions--have proliferated. However, existing approaches to checking formulation equivalence lack grounding, relying on simple heuristics which are insufficient for rigorous validation. Inspired by Karp reductions, in this work we introduce quasi-Karp equivalence, a formal criterion for determining when two optimization formulations are equivalent based on the existence of a mapping between their decision variables. We propose EquivaMap, a framework that leverages large language models to automatically discover such mappings, enabling scalable and reliable equivalence verification. To evaluate our approach, we construct the first open-source dataset of equivalent optimization formulations, generated by applying transformations such as adding slack variables or valid inequalities to existing formulations. Empirically, EquivaMap significantly outperforms existing methods, achieving substantial improvements in correctly identifying formulation equivalence.

[Arxiv](https://arxiv.org/abs/2502.14760)