# 创建基于 LLM 的 AI 代理：一种借助 API 提升 LLMs 的高级方法论

发布时间：2024年12月17日

`Agent`

> Creating an LLM-based AI-agent: A high-level methodology towards enhancing LLMs with APIs

# 摘要

> 大型语言模型（LLMs）给工程和科学的诸多方面带来了革命性变化。然而，其效用常因与外部数字环境交互的缺失而受限。为突破此限制，将 LLMs 和人工智能（AI）融入现实应用，定制化的人工智能代理正在被构建。依据技术趋势和技术手段，我们提炼出构建此类人工智能代理的高级方法，重点聚焦于其底层架构。本论文是一份全面指南，阐释了一种多维度的方法，赋予 LLMs 利用应用程序编程接口（APIs）的能力。我们提出了一个 7 步方法论，始于选择合适的 LLMs 以及复杂问题解决所必需的任务分解。该方法论涵盖为 API 交互生成训练数据的技术，以及从众多选项中挑选合适 API 的启发式方法。这些步骤最终促成生成在语法和语义上都与 LLMs 对给定任务的理解相符的 API 调用。此外，我们回顾了助力这些过程的现有框架和工具，并指出当前尝试中的不足。在此方向上，我们提出一种设备端架构，旨在借助来自 Hugging Face 社区的小型模型来发挥便携设备的功能。我们在包括钢琴谱生成等多个领域的实际应用中检验了这些方法的成效。通过对文献和现有技术的广泛剖析，本论文旨在为研究人员和从业者指明方向，充分挖掘具备外部工具能力加持的 LLMs 的潜力，从而为更自主、强大和具备上下文感知能力的人工智能代理铺平道路。

> Large Language Models (LLMs) have revolutionized various aspects of engineering and science. Their utility is often bottlenecked by the lack of interaction with the external digital environment. To overcome this limitation and achieve integration of LLMs and Artificial Intelligence (AI) into real-world applications, customized AI agents are being constructed. Based on the technological trends and techniques, we extract a high-level approach for constructing these AI agents, focusing on their underlying architecture. This thesis serves as a comprehensive guide that elucidates a multi-faceted approach for empowering LLMs with the capability to leverage Application Programming Interfaces (APIs). We present a 7-step methodology that begins with the selection of suitable LLMs and the task decomposition that is necessary for complex problem-solving. This methodology includes techniques for generating training data for API interactions and heuristics for selecting the appropriate API among a plethora of options. These steps eventually lead to the generation of API calls that are both syntactically and semantically aligned with the LLM's understanding of a given task. Moreover, we review existing frameworks and tools that facilitate these processes and highlight the gaps in current attempts. In this direction, we propose an on-device architecture that aims to exploit the functionality of carry-on devices by using small models from the Hugging Face community. We examine the effectiveness of these approaches on real-world applications of various domains, including the generation of a piano sheet. Through an extensive analysis of the literature and available technologies, this thesis aims to set a compass for researchers and practitioners to harness the full potential of LLMs augmented with external tool capabilities, thus paving the way for more autonomous, robust, and context-aware AI agents.

[Arxiv](https://arxiv.org/abs/2412.13233)