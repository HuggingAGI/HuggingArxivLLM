# 魔鬼在细节中：优化文本到视频生成的提示方法

发布时间：2025年04月15日

`LLM应用` `多媒体`

> The Devil is in the Prompts: Retrieval-Augmented Prompt Optimization for Text-to-Video Generation

# 摘要

> 文本到视频生成模型（T2V）在大规模数据集的训练下取得了显著进展。然而，T2V生成模型对输入提示的高度敏感性，凸显了提示设计在影响生成结果中的关键作用。尽管先前研究主要依赖大型语言模型（LLMs）来对齐用户提供的提示与训练提示的分布，但缺乏针对提示词汇和句法结构细节的专门指导。为此，我们提出了	extbf{RAPO}——一个创新的	extbf{R}etrieval-	extbf{A}ugmented 	extbf{P}rompt 	extbf{O}ptimization框架。为了解决LLM生成提示中的不准确和模糊细节，RAPO通过双优化分支对原始提示进行精炼，选择更优的提示用于T2V生成。第一分支通过从学习的关系图中提取多样的修饰符来增强用户提示，并通过微调后的LLM将它们调整为与训练提示格式一致。相反，第二分支则使用预训练的LLM根据明确的指令集重写原始提示。大量实验表明，RAPO能够有效提升生成视频的静态和动态维度，凸显了对用户提供的提示进行优化的重要性。项目网站：\href{https://whynothaha.github.io/Prompt_optimizer/RAPO.html}{GitHub}。

> The evolution of Text-to-video (T2V) generative models, trained on large-scale datasets, has been marked by significant progress. However, the sensitivity of T2V generative models to input prompts highlights the critical role of prompt design in influencing generative outcomes. Prior research has predominantly relied on Large Language Models (LLMs) to align user-provided prompts with the distribution of training prompts, albeit without tailored guidance encompassing prompt vocabulary and sentence structure nuances. To this end, we introduce \textbf{RAPO}, a novel \textbf{R}etrieval-\textbf{A}ugmented \textbf{P}rompt \textbf{O}ptimization framework. In order to address potential inaccuracies and ambiguous details generated by LLM-generated prompts. RAPO refines the naive prompts through dual optimization branches, selecting the superior prompt for T2V generation. The first branch augments user prompts with diverse modifiers extracted from a learned relational graph, refining them to align with the format of training prompts via a fine-tuned LLM. Conversely, the second branch rewrites the naive prompt using a pre-trained LLM following a well-defined instruction set. Extensive experiments demonstrate that RAPO can effectively enhance both the static and dynamic dimensions of generated videos, demonstrating the significance of prompt optimization for user-provided prompts. Project website: \href{https://whynothaha.github.io/Prompt_optimizer/RAPO.html}{GitHub}.

[Arxiv](https://arxiv.org/abs/2504.11739)