# 面向大型语言模型代码补全的结构感知语料构建与用户感知对齐评估指标

发布时间：2025年05月19日

`LLM应用` `软件开发` `软件工程`

> Structure-Aware Corpus Construction and User-Perception-Aligned Metrics for Large-Language-Model Code Completion

# 摘要

> 大型语言模型驱动的代码补全技术显著提升了开发效率，但在实际应用中，现有评估指标与用户体验之间仍存在差距。针对这一问题，我们从概率建模角度提出了两个代码补全评估指标——LCP 和 ROUGE-LCP。此外，针对大型语言模型在仓库级代码补全中结构化语义建模和跨模块依赖信息的不足，我们提出了一种基于结构保留和语义重排代码图（SPSR-Graph）的数据处理方法。理论分析与实验结果表明，我们的评估指标在用户体验一致性方面表现优异，而数据处理方法则有效提升了模型性能。

> Code completion technology based on large language model has significantly improved the development efficiency of programmers. However, in practical applications, there remains a gap between current commonly used code completion evaluation metrics and users' actual perception. To address this issue, we propose two evaluation metrics for code completion tasks--LCP and ROUGE-LCP, from the perspective of probabilistic modeling. Furthermore, to tackle the lack of effective structural semantic modeling and cross-module dependency information in LLMs for repository-level code completion scenarios, we propose a data processing method based on a Structure-Preserving and Semantically-Reordered Code Graph (SPSR-Graph). Through theoretical analysis and experimental validation, we demonstrate the superiority of the proposed evaluation metrics in terms of user perception consistency, as well as the effectiveness of the data processing method in enhancing model performance.

[Arxiv](https://arxiv.org/abs/2505.13073)