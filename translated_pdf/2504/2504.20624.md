PaRT：基于个性化实时检索的主动式社交聊天机器人增强方案  

作者团队：  
Zihan Nu♡、Zheyong Xie♠ 等（来自小红书♠/中科大♥/浙大♦）  
联系方式详见文末邮箱  

（注：步骤2对机构列表和邮箱进行了整合简化，突出核心信息；保留符号标记但优化了排版；标题采用更符合技术报告风格的表述。）

摘要

社交聊天机器人已化身为现代生活不可或缺的智能伙伴，从情感慰藉到日常闲谈无处不在。但传统被动应答的聊天机器人往往需要用户主动开启话题，导致对话参与度低、持续时间短。为此，我们推出PaRT创新框架——通过个性化实时检索与生成技术，赋予社交机器人语境感知的主动对话能力。该框架首先将用户画像和对话背景融入大型语言模型（LLM），智能解析用户查询背后的真实意图；继而基于精准意图分析，动态生成个性化话题，并从RedNote知识库中精准检索相关内容；最终融合检索结果生成既知识丰富又极具吸引力的回复。经实际生产环境30余天验证，该方案使单次对话时长显著提升21.77%。

CCS分类




•  信息系统  $\rightarrow$  个性化推荐 ;  语言模型 .  




</结果2>

（说明：在结果2中：
1. 将"Concepts"译为更符合中文文献习惯的"分类"
2. 将"Personalization"译为更具体的"个性化推荐"以体现信息系统领域的应用场景
3. 保留数学符号和排版格式
4. 使用中文标点替换英文标点）

核心关键词  

社交聊天机器人 | 检索增强生成（RAG） | 大语言模型（LLM）

ACM 参考文献格式：




Zihan $\mathrm{{Nu}}^{\heartsuit}$、Zheyong $\mathrm{Xie}^{\star}$、Shaosheng $\mathrm{Caa}^{\bullet\dagger}$、Chonggang Lu ♠、Zheyu Ye ♠、Tong $\mathrm{{Nu}}^{\heartsuit}$、Zuozhu $\mathrm{{Liu}^{\diamond\dagger}}$、Yan Gao♠、Jia Chen♠、Zhe $\mathrm{Xu}^{\star}$、Yi $\mathrm{{Wu}^{\star}}$、Yao $\mathrm{{Hu}^{\star}}$。2025。PaRT：基于个性化实时检索的主动社交聊天机器人增强方案。发表于第48届ACM SIGIR国际信息检索大会（SIGIR

† 通讯作者。

![](images/8962089f924bb7a5a3ee25792fb5c7c841567181e9b439bba14f44a6a88bdd96.jpg)</结果2>

（说明：由于原文仅包含署名标识和图片占位符，无实质文本内容，故直译与润色版本完全一致。图片引用部分按学术规范保留原格式未作改动）

图1：PaRT界面布局。从左至右依次为欢迎界面、对话窗口和用户资料页。聊天机器人会主动发起问候场景，而对话场景则持续引导用户交流。




（ACM会议论文，2025年7月13-18日于意大利帕多瓦发表，共6页）  
论文链接：https://doi.org/10.1145/3726302.3731946

1 引言

大型语言模型（LLMs）[1,3,28]的突破性进展，正推动社交聊天机器人[2,45]向更智能、更拟人的方向飞速发展。然而现有系统大多聚焦于情感化应答[25,33]，却忽视了主动对话的艺术[9,11,19]——那些仅采用被动应答策略[9,19]的传统机器人，往往让用户陷入单方面推动对话的困境，最终导致互动索然无味。

主动对话技术[9,12]为此提供了破局之道。这类系统能像人类般主动开启话题（如"您最向往哪个旅游胜地？"），或在察觉用户兴趣减退时巧妙转场[14,41]。但当前直接调用LLMs生成话题的方式存在明显缺陷：既容易产出千篇一律的泛泛之谈，又受限于模型的知识时效性[30,40]，难以维持专业领域的深度交流。

为此，我们创新性地提出PaRT框架，通过个性化实时检索赋能主动对话。如图1所示，该系统包含三大核心模块：首先，用户画像模块通过智能提问[10,20,43]构建精准的用户画像；其次，意图分析器能敏锐捕捉对话中的显性需求与潜在兴趣[34,42]，将原始查询转化为个性化指令；最后，检索增强模块从RedNote 1获取最新资料[21,36]，经去芜存菁后指导LLMs生成精准回应[16,18]。实验证明，该方案不仅能显著提升对话质量，更将平均会话时长提升了21.77%。

我们的主要创新包括：
(1) 首创"个性化实时检索+主动对话"的融合范式
(2) 通过用户画像、意图解析、检索增强的三重奏，实现自然流畅的主动对话体验
(3) 经过30天实际运营验证，系统表现卓越

2 PaRT方案详解  

图2展示了PaRT的整体架构。本节将深入解析该方案，涵盖其完整工作流及三大核心模块：用户画像分析、意图驱动的查询优化和检索增强生成。

2.1 用户画像




为提升聊天机器人对用户偏好的理解，我们首次引入用户画像模块。借助记忆机制[20,43]，系统能提炼对话历史中的关键信息并存入用户画像。主动问候是构建画像的有效方式——我们开发的静态问题库支持随机提问开启对话。结合现有画像与检索增强生成技术（详见2.4节）的个性化问候，能进一步完善用户画像。如图2所示，系统以问候开启对话，并通过持续更新用户偏好保持画像的实时性。

2.2 智能意图驱动的查询优化器




对话过程中，优秀的聊天机器人应当主动感知用户需求，在互动降温时巧妙切换话题。如图2（左）所示，传统聊天机器人常因执着当前话题导致交互质量下滑，而真正提升对话质量的关键在于精准捕捉用户潜在意图。




基于大语言模型，我们开发了智能意图驱动的查询优化模块[7,13,15]，将用户意图划分为三类：自然延续、主动求知和隐性探索。自然延续场景下，聊天机器人需在陪伴中保持对话流畅；面对主动求知类提问（如"《沙丘2》新片评价如何？"），则需启动实时检索[16,18]获取最新资讯。当对话中出现兴趣衰减信号或话题转移倾向[24,35]时，则暗示着隐性探索需求——此时系统需结合对话历史和用户画像，智能生成个性化话题来重燃互动热情。我们采用查询重构技术[17,22,39]，借助大语言模型的深度理解能力[1,3]精准锁定目标内容，有效过滤无关干扰。通过精心设计的提示模板，引导模型综合分析对话语境和用户特征：先识别意图类型，再优化查询语句以精准匹配用户偏好。这种双重优化机制既实现了话题的智能调控，又通过信息检索[21]显著提升应答质量。该流程可形式化表示为：




$$


c,q=L L M(用户画像,对话上下文,优化提示模板),


$$  




其中$c$为意图分类，$q$是优化后的查询语句，$p r o m p t_{r}$代表意图优化的专用提示模板。

2.3 检索增强生成




在开放域生活对话等主动式聊天场景中，实时信息的整合能带来显著增益。由于静态知识库存在天然局限且易过时[23,27]，网络搜索成为检索增强生成（RAG）的核心支撑。我们采用经典的三阶段RAG框架[16,18,21]：检索→摘要→网络资源生成。具体实现时，通过RedNote搜索引擎（知名生活分享平台，含海量优质实时内容）确保检索质量。PaRT系统为不同对话场景定制专属提示：问候场景随机选取用户画像特征，由LLM提炼核心兴趣作为搜索词；对话场景则采用智能查询优化器生成搜索词。两种场景均触发检索后，LLM对Top k结果智能摘要[8,36]过滤噪声，最终融合上下文生成自然流畅的信息响应。完整流程形式化表示为：





$$


\begin{array}{r l}&{n o t e_{1},.\ .\,,n o t e_{k}=R e t r i e v e r(q),}\\ &{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \,n o t e_{1},.}\ .}\end{array}


$$  





其中𝑅𝑒𝑡𝑟𝑖𝑒𝑣𝑒𝑟为搜索引擎，𝑛𝑜𝑡𝑒表示检索内容，$p r o m p t_{s}$/$p r o m p t_{g}$分别对应摘要与生成提示模板。

3 实验  

本节首先详解PaRT的实现方案与评估体系，随后基于RedNote平台社交聊天机器人$\mathrm{iPET^{\bar{2}}}$的测试集展开离线实验，最终呈现PaRT在真实生产环境部署后的在线效果。

3.1 实现细节  

我们基于11,455个高质量样本构建数据集，采用全参数监督微调（SFT）对Qwen2系列模型[37]进行优化。为兼顾效率与成本，对话生成选用Qwen2-72B-Instruct，其余模块则采用Qwen2-7B-Instruct。训练配置如下：上下文窗口2048，学习率5e-6，带0.1热身比例的余弦学习率衰减；单卡批量大小为2，4步梯度累积确保稳定；全程使用24张NVIDIA A100 80GB显卡，3轮训练耗时约4小时。推理时通过0.9温度系数调节生成结果的创新性与稳定性。

3.2 评估指标

为全面检验PaRT的性能，我们分别从检索和生成两个维度进行评估。针对传统机器学习方法在主观任务评估上的局限性，我们采用基于大语言模型（LLM）的评估体系[31,44]——该方法已被证实与人类评判高度吻合[5,6]。我们在每个任务中随机选取50个样本，通过kappa系数[26,47]衡量LLM与人工评分的一致性。鉴于检索数据库规模庞大且动态更新，检索性能仅采用Top-k精确率（P@k）指标[46]。通过设计特定提示词，由LLM判断检索结果是否同时满足：内容相关性、实用价值和对话流畅性三项要求，并给出0/1二值判定。

在生成质量评估方面，借鉴[4,29]的研究框架，我们针对问候和对话场景设置了三个评价维度：个性化程度、信息密度和沟通技巧。其中，个性化维度考察回复对用户偏好的适配能力；信息密度衡量内容的知识含量；沟通技巧则评估回复在促进自然对话时表现出的逻辑连贯性、情感共鸣度和互动吸引力。每个维度均要求LLM给出0-3分的量化评分，分值越高代表质量越优。

3.3 离线实验成果

3.3.1 检索效能对比
通过对比原始用户查询与LLM优化查询的检索效果，数据显示（表1）：优化查询使整体检索性能提升31.71%。值得注意的是，优化查询的P@k指标随检索量增加衰减更缓，印证了方案的稳健性。这与文献[17,38]结论一致，证实LLM查询优化能显著提升检索效果。经权衡信息量与准确率，最终设定检索段落数为5。

表1：离线数据集检索表现
（图示）

3.3.2 文本生成质量
采用3.2节所述的三维评估体系，我们系统对比了两种生成模式：直接调用LLM的常规方案，以及基于用户画像的个性化生成方案。如表2所示，PaRT创新性地融合用户画像与检索笔记，在所有指标上均表现最优。实验证实：个性化生成响应更符合用户预期（文献[4]支持该结论），而结合检索信息的PaRT方案能提供更精准的交互体验。

表2：文本生成质量对比
（图示）

3.3.3 检索量优化研究
针对问候/对话两种场景，测试了k=1/3/5/10四种检索量配置。如表3所示，k=5时系统达到最佳平衡——检索量不足导致信息缺失，过量则引入噪声干扰（与文献[32]发现吻合），再次验证了RAG系统需精准把控检索规模与精度的黄金比例。

表3：检索量对系统影响
（图示）

3.4 在线实测效果  

为量化系统对用户粘性的提升，我们开展了在线A/B对照实验。选取"平均对话时长"作为核心指标——该数据能直观体现用户投入程度。对照组采用被动应答式聊天机器人，实验周期为7天，样本均分至对照组与实验组。数据显示（表4），PaRT方案使平均对话时长显著提升21.77%，验证了其有效激发用户深度交互的能力。  

表4：A/B测试数据  

![](images/02b5d77aa3f5adbb6f2134b83a79eb90a47cf2e51d308e3b0dffa1b43ca79fba.jpg)

4 总结




本文提出的PaRT方法，为社交聊天机器人赋予了主动对话和实时信息增强两大核心能力。通过融合用户画像分析、意图驱动的查询优化以及检索增强生成三大技术模块，系统能够像人类一样自然开启对话并流畅切换话题。实验数据表明，该方法显著提升了对话质量与用户参与度。

讲者简介

牛梓涵，中国科学技术大学硕士在读，专注于检索增强生成与对话式AI智能体研究，成果发表于SIGIR、EMNLP等顶级会议。