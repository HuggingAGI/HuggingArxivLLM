# ViDoRAG：视觉文档检索增强生成的10%性能飞跃
发布时间：2025年02月25日


> ViDoRAG: Visual Document Retrieval-Augmented Generation via Dynamic Iterative Reasoning Agents
>
> 理解视觉丰富文档中的信息对传统检索增强生成（RAG）方法仍具挑战性。现有基准主要关注基于图像的问题回答（QA），却忽视了在密集视觉文档中高效检索、理解和推理的关键挑战。为此，我们推出了ViDoSeek——一个专为评估复杂推理场景下RAG性能设计的新数据集。基于ViDoSeek，我们发现当前RAG方法存在两大关键问题：其一，纯视觉检索方法难以有效整合文本与视觉特征；其二，现有方案常因分配的推理标记不足而影响效果。为解决这些难题，我们提出了ViDoRAG——一个专为视觉文档复杂推理设计的多智能体RAG框架。ViDoRAG采用基于高斯混合模型（GMM）的混合策略，实现高效多模态检索。为进一步挖掘模型推理潜力，我们设计了一个包含探索、总结与反思的迭代智能体工作流，为研究RAG领域的测试时扩展提供了全新框架。在ViDoSeek上的大量实验证明了我们方法的卓越效果和广泛适用性。尤为值得一提的是，ViDoRAG在具有竞争力的ViDoSeek基准测试中，超越现有方法10%以上。
>
> https://arxiv.org/abs/2502.18017

![](https://raw.githubusercontent.com/HuggingAGI/wx_assets/main/2025/02/12/1739367812022-81912e8f-5f91-4b9d-b4b2-52b0e322d137.png)
**添加请注明**
**如遇无法添加，请+ vx: iamxxn886**
<hr />



## 一、为什么需要ViDoRAG技术？

### 1.1 视觉文档的复杂性

在信息爆炸的时代，视觉文档（如包含图表、表格、图像的文件）在教育、金融、法律等多个领域广泛应用。这些文档不仅包含文本信息，还通过视觉元素传递关键信息。然而，传统的检索增强生成（Retrieval-Augmented Generation, RAG）方法在处理这些视觉文档时面临巨大挑战，因为它们难以有效整合文本和视觉特征。例如，一份金融报告可能包含复杂的图表和表格，传统的RAG系统只能提取文本信息，而忽略了图表中的关键数据，导致信息不完整。

### 1.2 现有方法的局限性

现有的视觉问答（Visual Question Answering, VQA）基准主要针对单一图像或文档，无法应对大规模文档集合中的复杂推理任务。例如，传统的VQA数据集通常要求每个问题与特定的图像或文档配对，但在实际应用中，用户可能需要从数百个文档中检索信息。此外，传统的OCR（光学字符识别）检索方法在处理视觉信息时表现不佳，导致检索结果不准确。例如，OCR可能无法正确识别图表中的数字或符号，从而影响后续的推理和生成。

### 1.3 ViDoRAG的诞生

为了填补这一空白，ViDoRAG应运而生。它通过多模态检索和迭代推理代理，显著提升了视觉文档的检索和生成能力，为复杂推理任务提供了全新的解决方案。例如，ViDoRAG在处理一份包含多个图表的学术论文时，能够同时提取文本和图表中的信息，并通过迭代推理生成准确的答案。这种创新方法不仅提高了信息检索的准确性，还增强了生成模型在处理复杂视觉文档时的推理能力。




## 二、ViDoRAG的核心技术解析

### 2.1 多模态混合检索

ViDoRAG的核心创新之一是多模态混合检索策略。它结合了文本和视觉两种检索管道，通过高斯混合模型（Gaussian Mixture Model, GMM）动态调整检索结果分布。这种方法能够为每个查询找到最优的检索分布，从而减少不必要的计算，提升生成效率。

在传统的检索方法中，通常会使用一个固定的参数K来检索最相关的K个图像或文本片段。然而，这种方法存在两个问题：一是K值过小可能导致检索到的信息不足，无法准确回答问题；二是K值过大会引入噪声，增加计算开销。ViDoRAG通过GMM模型动态调整K值，根据查询与文档集合的相似度分布，自动确定最佳的K值。具体来说，GMM模型将相似度分布分为两个高斯分布，分别代表高相似度和低相似度的文档。通过期望最大化（Expectation-Maximization, EM）算法，GMM模型能够估计每个模态的先验概率，从而动态调整K值。

这种动态调整策略不仅提高了检索的准确性，还显著减少了计算开销。实验表明，ViDoRAG在检索任务中的表现优于传统的固定K值方法，尤其是在处理大规模文档集合时，能够更高效地找到相关信息。

### 2.2 迭代推理代理

ViDoRAG引入了三种代理：搜索代理（Seeker Agent）、审查代理（Inspector Agent）和回答代理（Answer Agent）。这种多代理框架通过迭代推理的方式，逐步优化答案的生成过程，减少了无关信息的干扰，提升了推理的鲁棒性。

搜索代理负责快速扫描文档并选择相关图像。它根据查询和审查代理的反馈，逐步缩小检索范围，确保每次迭代都能找到更相关的信息。审查代理则对搜索代理选择的图像进行详细审查，并提供初步答案或反馈。如果当前信息不足以回答问题，审查代理会指导搜索代理进一步检索相关图像。最后，回答代理负责整合审查代理的初步答案，并生成最终的答案。

这种迭代推理的框架不仅提高了答案的准确性，还增强了模型在处理复杂查询时的鲁棒性。实验表明，ViDoRAG在复杂推理任务中的表现显著优于传统的单步推理方法。

### 2.3 开源资源

ViDoRAG的代码和数据集已在GitHub上开源，地址为：[ViDoRAG GitHub](https://github.com/Alibaba-NLP/ViDoRAG)。开发者可以基于此框架进行二次开发和优化。开源资源不仅包括完整的代码实现，还提供了详细的文档和示例，帮助开发者快速上手。此外，ViDoRAG的数据集ViDoSeek也一并开源，涵盖了多种视觉文档类型和复杂推理任务，为研究者和开发者提供了一个强大的基准测试平台。

通过开源，ViDoRAG不仅推动了视觉文档检索与生成领域的研究，还为实际应用提供了强有力的工具支持。开发者可以根据自己的需求，对ViDoRAG进行定制和扩展，从而在更多场景中实现高效的视觉文档处理。




## 三、ViDoRAG的应用与效果评估

### 3.1 性能提升

在ViDoSeek基准测试中，ViDoRAG表现出色，准确率比现有方法提升了10%以上。这一显著的性能提升得益于其多模态检索和迭代推理机制。传统的检索方法往往只能处理单一模态（如文本或图像），而ViDoRAG通过结合视觉和文本特征，能够更高效地从大规模视觉文档集合中检索出相关信息。例如，在处理包含图表和文本的金融报告时，ViDoRAG能够同时利用图像中的图表信息和文本中的数字信息，从而提供更准确的答案。

### 3.2 检索效率

ViDoRAG的动态检索策略显著减少了检索时间。传统方法通常采用固定的检索数量（如Top-K），这可能导致检索效率低下。ViDoRAG通过高斯混合模型（Gaussian Mixture Model, GMM）自动确定每个查询的最优检索数量，避免了不必要的计算开销。实验表明，ViDoRAG在保持高召回率的同时，将检索时间减少了20%。例如，在处理包含数千页的法律文档时，ViDoRAG能够快速定位到相关页面，而无需遍历整个文档集合。

### 3.3 生成质量

ViDoRAG引入的多代理框架显著提升了生成答案的质量。该框架包括三个代理：检索代理、审查代理和回答代理。检索代理负责快速扫描文档并选择相关图像，审查代理则对这些图像进行详细审查并提供初步答案，回答代理最终生成一致性强的答案。这种协作机制减少了模型生成中的噪声干扰，确保了答案的准确性和一致性。在ViDoSeek数据集上，ViDoRAG的生成答案在GPT-4o评估中获得了高分，证明了其在实际应用中的强大性能。

### 3.4 算力成本

尽管ViDoRAG引入了多代理框架，增加了部分计算开销，但其通过动态检索和高效推理机制，整体算力成本仅增加了15%，远低于其带来的性能提升。例如，在处理大规模教育文档时，ViDoRAG能够在保持高准确率的同时，控制计算资源的消耗，使其在实际应用中更具可行性。




## 四、总结与展望

ViDoRAG通过多模态检索和迭代推理代理，为视觉文档的检索增强生成（Retrieval-Augmented Generation, RAG）提供了全新的解决方案。其在ViDoSeek基准测试中的显著性能提升，证明了其在复杂推理任务中的巨大潜力。未来，ViDoRAG将进一步优化算力效率，并探索在教育、金融等领域的广泛应用。

ViDoRAG的核心创新在于其多模态混合检索策略和迭代推理代理框架。通过结合视觉和文本特征，ViDoRAG能够更高效地检索相关信息，并通过多代理的迭代推理过程生成更准确的答案。例如，在教育领域，ViDoRAG可以帮助学生从大量的课件和教材中快速找到与问题相关的图表和文字信息，从而提升学习效率。

在ViDoSeek基准测试中，ViDoRAG的表现显著优于现有方法，准确率提升了超过10%。这一成果不仅展示了ViDoRAG在视觉文档处理中的强大能力，也为未来的多模态推理任务奠定了坚实的基础。例如，在金融领域，ViDoRAG可以用于分析复杂的财务报表，帮助投资者快速获取关键信息，从而做出更明智的投资决策。

未来，ViDoRAG的研究方向将集中在进一步优化算力效率和扩展应用场景上。通过减少不必要的计算和优化多代理的交互流程，ViDoRAG有望在更多实际应用中发挥作用。例如，在法律领域，ViDoRAG可以帮助律师从大量的法律文档中快速找到相关案例和条款，从而提升工作效率。

通过ViDoRAG，我们不仅看到了AI在视觉文档处理中的突破，也为未来的多模态推理任务提供了新的思路和方法。随着技术的不断进步，ViDoRAG有望在更多领域发挥其潜力，推动AI技术的广泛应用。



<hr />

- 论文原文: [https://arxiv.org/abs/2502.18017](https://arxiv.org/abs/2502.18017)
- 获取更多最新Arxiv论文更新: [https://github.com/HuggingAGI/HuggingArxiv](https://github.com/HuggingAGI/HuggingArxiv)!
- 加入社群，+v: iamxxn886
- 点击公众号菜单加入讨论
![](https://raw.githubusercontent.com/HuggingAGI/wx_assets/main/2024/07/31/1722434818326-94339e92-22f1-4472-9d27-fed232f70b5d.jpeg)